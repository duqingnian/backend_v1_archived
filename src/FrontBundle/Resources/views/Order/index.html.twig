{% extends "FrontBundle::page.html.twig" %}

{% set _url = path("front_order") ~ "?filter_channel_order_no=" ~ filter_channel_order_no ~ "&filter_plantform_order_no=" ~ filter_plantform_order_no ~ "&filter_merchant_order_no=" ~ filter_merchant_order_no %}

{% block content %}
<div class="layui-card">
     <div class="layui-form layui-card-header layuiadmin-card-header-auto">
                <div class="layui-form-item">

                    <div class="layui-inline">
                        <label class="layui-form-label">三方订单号:</label>
                        <div class="layui-input-inline">
                            <input type="text" name="name" placeholder="三方订单号" autocomplete="off" class="layui-input">
                        </div>
                    </div>
					
					<div class="layui-inline">
                        <label class="layui-form-label">平台订单号:</label>
                        <div class="layui-input-inline">
                            <input type="text" name="name" placeholder="平台订单号" autocomplete="off" class="layui-input">
                        </div>
                    </div>
					
					<div class="layui-inline">
                        <label class="layui-form-label">商户订单号:</label>
                        <div class="layui-input-inline">
                            <input type="text" name="name" placeholder="商户订单号" autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-inline">
                        <button class="layui-btn layuiadmin-btn-list" lay-submit lay-filter="LAY-app-contlist-search">
                            <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="layui-card-body">
                <!--<div style="padding-bottom: 10px;align-items: center;" class="flex">
					<span>共1条数据</span>
                    <button class="layui-btn layuiadmin-btn-list btn_prepare" data-id="0">添加</button>
                </div>-->
                <table class="model">
                    <tr>
                        <td>编号</td>
                        <td style="width:120px">三方订单</td>
                        <td style="width:120px">平台订单</td>
                        <td style="width:120px">商户订单</td>
                        <td>发起金额</td>
                        <td>实际到账</td>
                        <td style="width:100px;">手续费</td>
                        <td>货币</td>
                        <td>订单时间</td>
                        <td>三方接口</td>
                        <td>三方->平台</td>
                        <td>平台->商户</td>
                        <td>订单状态</td>
                        <td>备注</td>
                        <td>管理操作</td>
                    </tr>
					{% for order in pager.data %}
                    <tr>
                        <td>{{ order.id }}</td>
                        <td><div class="cell"><a href="#">{{ order.channel ? order.channel.name : '???' }}</a><br />{{ order.channel_order_no }}</div></td>
                        <td><div class="cell">{{ order.plantform_order_no }}</div></td>
                        <td><div class="cell"><a href="#">{{ order.merchant ? order.merchant.name : '???' }}</a><br />{{ order.merchant_order_no }}</div></td>
                        <td>{{ order.amount }}</td>
                        <td>{{ order.amount - order.channel_fee }}</td>
                        <td>
							<div class="cell">
								<div><span>三方:</span><span>{{ order.channel_fee }}</span></div>
								<div><span>商户:</span><span>{{ order.merchant_fee }}</span></div>
							</div>
						</td>
                        <td>{{ order.currency }}</td>
                        <td>{{ order.created_at|date('Y-m-d H:i:s') }}</td>
                        <td>
							{% if 0 == order.channel_api_code %}
								<svg t="1692692611988" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2606" width="32" height="32"><path d="M874.155198 150.227545c-200.303393-200.303393-523.241517-200.303393-723.54491 0s-200.303393 523.241517 0 723.54491 523.241517 200.303393 723.54491 0S1072.414679 350.530938 874.155198 150.227545zM739.256994 383.233533 467.416675 655.073852c-2.043912 2.043912-4.087824 2.043912-8.175649 2.043912s-6.131737 0-8.175649-2.043912l-165.556886-165.556886c-4.087824-4.087824-4.087824-10.219561 0-14.307385s10.219561-4.087824 14.307385 0l159.42515 159.42515L724.949609 368.926148c4.087824-4.087824 10.219561-4.087824 14.307385 0S743.344819 379.145709 739.256994 383.233533z" fill="#14cd21" p-id="2607"></path></svg>
							{% else %}
								<a href="#">{{ order.channel_api_code }}</a>
							{% endif %}
						</td>
                        <td>
							<div class="cell">
								<div><span>回调:</span><span>{% if 'N' == order.plantform_notify_hooked %}<svg t="1692708782180" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2276" width="18" height="18"><path d="M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m181.034667 185.301334L512 451.669333 330.965333 270.634667 270.634667 330.965333 451.669333 512l-181.034666 181.034667 60.330666 60.330666L512 572.330667l181.034667 181.034666 60.330666-60.330666L572.330667 512l181.034666-181.034667-60.330666-60.330666z" fill="#ef3b24" p-id="2277"></path></svg>{% else %}<svg t="1692708925162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5018" width="18" height="18"><path d="M512 1024C229.230592 1024 0 794.769408 0 512S229.230592 0 512 0s512 229.230592 512 512-229.230592 512-512 512zM254.12608 528.77312l172.396544 174.733312a0.607232 0.607232 0 0 0 0.864256 0.01536l342.540288-343.36768a0.311296 0.311296 0 0 0-0.003072-0.44032l-37.359616-37.285888a0.320512 0.320512 0 0 0-0.443392-0.02048l-304.47616 277.743616c-0.37376 0.340992-0.996352 0.357376-1.381376 0.027648L294.8608 487.48544a0.339968 0.339968 0 0 0-0.452608 0.022528l-40.27904 40.824832a0.3072 0.3072 0 0 0-0.004096 0.44032z" fill="#14cd21" p-id="5019"></path></svg>{% endif %}</span></div>
								<div><span>跳转:</span><span>{% if 'N' == order.plantform_jump_hooked %}<svg t="1692708782180" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2276" width="18" height="18"><path d="M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m181.034667 185.301334L512 451.669333 330.965333 270.634667 270.634667 330.965333 451.669333 512l-181.034666 181.034667 60.330666 60.330666L512 572.330667l181.034667 181.034666 60.330666-60.330666L572.330667 512l181.034666-181.034667-60.330666-60.330666z" fill="#ef3b24" p-id="2277"></path></svg>{% else %}<svg t="1692708925162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5018" width="18" height="18"><path d="M512 1024C229.230592 1024 0 794.769408 0 512S229.230592 0 512 0s512 229.230592 512 512-229.230592 512-512 512zM254.12608 528.77312l172.396544 174.733312a0.607232 0.607232 0 0 0 0.864256 0.01536l342.540288-343.36768a0.311296 0.311296 0 0 0-0.003072-0.44032l-37.359616-37.285888a0.320512 0.320512 0 0 0-0.443392-0.02048l-304.47616 277.743616c-0.37376 0.340992-0.996352 0.357376-1.381376 0.027648L294.8608 487.48544a0.339968 0.339968 0 0 0-0.452608 0.022528l-40.27904 40.824832a0.3072 0.3072 0 0 0-0.004096 0.44032z" fill="#14cd21" p-id="5019"></path></svg>{% endif %}</span></div>
							</div>
						</td>
						<td>
							<div class="cell">
								<div><span>回调:</span><span>{% if 'N' == order.merchant_notify_hooked %}<svg t="1692708782180" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2276" width="18" height="18"><path d="M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m181.034667 185.301334L512 451.669333 330.965333 270.634667 270.634667 330.965333 451.669333 512l-181.034666 181.034667 60.330666 60.330666L512 572.330667l181.034667 181.034666 60.330666-60.330666L572.330667 512l181.034666-181.034667-60.330666-60.330666z" fill="#ef3b24" p-id="2277"></path></svg>{% else %}<svg t="1692708925162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5018" width="18" height="18"><path d="M512 1024C229.230592 1024 0 794.769408 0 512S229.230592 0 512 0s512 229.230592 512 512-229.230592 512-512 512zM254.12608 528.77312l172.396544 174.733312a0.607232 0.607232 0 0 0 0.864256 0.01536l342.540288-343.36768a0.311296 0.311296 0 0 0-0.003072-0.44032l-37.359616-37.285888a0.320512 0.320512 0 0 0-0.443392-0.02048l-304.47616 277.743616c-0.37376 0.340992-0.996352 0.357376-1.381376 0.027648L294.8608 487.48544a0.339968 0.339968 0 0 0-0.452608 0.022528l-40.27904 40.824832a0.3072 0.3072 0 0 0-0.004096 0.44032z" fill="#14cd21" p-id="5019"></path></svg>{% endif %}</span></div>
								<div><span>跳转:</span><span>{% if 'N' == order.merchant_jump_hooked %}<svg t="1692708782180" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2276" width="18" height="18"><path d="M512 85.333333c235.648 0 426.666667 191.018667 426.666667 426.666667s-191.018667 426.666667-426.666667 426.666667S85.333333 747.648 85.333333 512 276.352 85.333333 512 85.333333z m181.034667 185.301334L512 451.669333 330.965333 270.634667 270.634667 330.965333 451.669333 512l-181.034666 181.034667 60.330666 60.330666L512 572.330667l181.034667 181.034666 60.330666-60.330666L572.330667 512l181.034666-181.034667-60.330666-60.330666z" fill="#ef3b24" p-id="2277"></path></svg>{% else %}<svg t="1692708925162" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5018" width="18" height="18"><path d="M512 1024C229.230592 1024 0 794.769408 0 512S229.230592 0 512 0s512 229.230592 512 512-229.230592 512-512 512zM254.12608 528.77312l172.396544 174.733312a0.607232 0.607232 0 0 0 0.864256 0.01536l342.540288-343.36768a0.311296 0.311296 0 0 0-0.003072-0.44032l-37.359616-37.285888a0.320512 0.320512 0 0 0-0.443392-0.02048l-304.47616 277.743616c-0.37376 0.340992-0.996352 0.357376-1.381376 0.027648L294.8608 487.48544a0.339968 0.339968 0 0 0-0.452608 0.022528l-40.27904 40.824832a0.3072 0.3072 0 0 0-0.004096 0.44032z" fill="#14cd21" p-id="5019"></path></svg>{% endif %}</span></div>
							</div>
						</td>
                        <td>-</td>
                        <td></td>
                        <td></td>
                    </tr>
					{% endfor %}
                </table>

                <div class="Page flex mt15" style="align-items: center; justify-content: space-between;">
                    <nav class="pagination-outer" aria-label="Page navigation">
                        <ul class="pagination">
                            <li class="page-item">
                                <a href="{{ _url }}&page=1" class="page-link" style="width: auto;">首页</a>
                            </li>
                            <li class="page-item">
                                <a href="{{ _url }}&page={{ pager.pager.prev }}" class="page-link" style="width: auto;">上一页</a>
                            </li>

							{% for p in pager.pager.min..pager.pager.max %}
								<li class="page-item {% if p == pager.pager.page %}active{% endif %}"><a href="{{ _url }}&page={{ p }}" class="page-link">{{ p }}</a></li>
							{% endfor %}

                            <li class="page-item">
                                <a href="{{ _url }}&page={{ pager.pager.next }}" class="page-link" style="width: auto;">下一页</a>
                            </li>
                            <li class="page-item">
                                <a href="{{ _url }}&page={{ pager.pager.pages }}" class="page-link" style="width: auto;">尾页</a>
                            </li>
                        </ul>
                    </nav>
                </div>

                </script>
            </div>
        </div>
		
		<script>
		$(document).ready(function(){
			prepare_dialog();
		});
		
		</script>
		
		<style>
		.model tr td a{color:blue;}
		</style>
{% endblock %}